[桶排序——Hello-Algo](https://www.hello-algo.com/chapter_sorting/bucket_sort/)

## 桶排序

选择排序、冒泡排序、插入排序、快速排序、归并排序、堆排序这些利用元素之间的比较来排序的算法，称为“基于比较的排序算法“，其时间复杂度不会小于$O(nlogn)$。堆排序属于“非比较排序算法”，其时间复杂度可以到达线性阶。

桶排序是基于分治的排序算法，通过设置一些具有大小顺序的桶，每个桶有个范围，将数据分配到各个桶中；在每个桶内部堆数据进行排序，再按照桶的顺序将所有数据合并。

<img src="https://www.hello-algo.com/chapter_sorting/bucket_sort.assets/bucket_sort_overview.png">

## 算法特性

桶排序适合处理体量很大的数据。

- 时间复杂度$O(n+k)$：假设元素在每个桶平均分布，每个桶的元素数量为$n/k$，假设排序单个桶的使用$O({n/k} * log{n/k})$ ,排序所有桶需要使用$O(n * log{n/k})$的时间。当桶的数量$k$很大时，时间复杂度趋向于$O(n)$。合并所有结果需要遍历所有桶和元素，花费$O(n+k)$
- 自适应排序，当所有元素分到一个桶时，时间复杂度为$O(n^2)$
- 空间复杂度为$O(n+k)$，需要$k$个桶和$n$个额外元素；非原地排序
- 是否是稳定排序取决于桶内排序所用的算法

### 如何实现平均分配

若想桶排序时间复杂度实现线性阶$O(n)$，**关键在于如何实现元素的平均分配**：

- 首先设定一个大致的分界线，将数据划分到3个桶中（也不一定是3）
- 将数据较多的桶再划分到3个桶中，直至每个桶数据量大致相同

本质是一个递归树，让叶节点的值尽可能相同。

**若知道数据的概率分布，则可以直接根据概率分布进行界限划分**。